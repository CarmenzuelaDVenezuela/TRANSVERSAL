import ddf.minim.*; //Librería audio
import java.awt.geom.*;//Librería geom de Java 
import processing.javafx.*;
//Variables globales
int estadoGeneral;
EscenaDeCarga escenaDeCarga;
Escena1 escena1;
Escena2 escena2;
Escena2_5 escena2_5;
Escena3 escena3;
Escena4 escena4;
Escena5 escena5;
Escena6 escena6;
Escena7 escena7;
Escena7_5 escena7_5;
Escena8 escena8;
Escena9 escena9;
Escena10 escena10;
Escena11 escena11;
Escena12 escena12;
Escena13 escena13;
EscenaCreditos escenaCreditos;

Minim audioManager;
AudioPlayer sonidoGeneral;
// PImage flechaDerecha;

void setup() {
  size(1366, 768, FX2D);//Full HD
  hint(ENABLE_KEY_REPEAT);
  fullScreen();
 audioManager = new Minim(this);
  escenaDeCarga = new EscenaDeCarga();
  escena1 = new Escena1();
  escena2 = new Escena2();
  escena2_5 = new Escena2_5();
  escena3 = new Escena3();
  escena4 = new Escena4();
  escena5 = new Escena5();
  escena6 = new Escena6();
  escena7 = new Escena7();
  escena7_5 = new Escena7_5();
  escena8 = new Escena8();
  escena9 = new Escena9();
  escena10 = new Escena10();
  escena11 = new Escena11();
  escena12 = new Escena12();
  escena13 = new Escena13();
  escenaCreditos = new EscenaCreditos();
  estadoGeneral = ESCENA2;
 // flechaDerecha = loadImage("flechaDerecha.png");
}

void draw() {
  switch (estadoGeneral) {
  case ESCENA_DE_CARGA:
    escenaDeCarga.dibujar();
    break;
  case ESCENA1:
    escena1.dibujar();
    break;
  case ESCENA2:
    escena2.dibujar();
    break;
  case ESCENA2_5:
    escena2_5.dibujar();
    break;
  case ESCENA3:
    escena3.dibujar();
    break;
  case ESCENA4:
    escena4.dibujar();
    break;
  case ESCENA5:
    escena5.dibujar();
    break;
  case ESCENA6:
    escena6.dibujar();
    break;
  case ESCENA7:
    escena7.dibujar();
    break;
  case ESCENA7_5:
    escena7_5.dibujar();
    break;
  case ESCENA8:
    escena8.dibujar();
    break;
  case ESCENA9:
    escena9.dibujar();
    break;
  case ESCENA10:
    escena10.dibujar();
    break;
  case ESCENA11:
    escena11.dibujar();
    break;
  case ESCENA12:
    escena12.dibujar();
    break;
  case ESCENA13:
    escena13.dibujar();
    break;
  case ESCENACREDITOS:
    escenaCreditos.dibujar();
    break;
  }
}

void mousePressed() {
  switch (estadoGeneral) {
  case ESCENA_DE_CARGA:
    escenaDeCarga.botonPulsado();
    break;
  case ESCENA1:
    escena1.botonPulsado();
    break;
  case ESCENA2_5:
    escena2_5.ratonPulsado();
    break;
  case ESCENA3:
    escena3.ratonPulsado();
    break;
  case ESCENA5:
    escena5.ratonPulsado();
    break;
  case ESCENA6:
    escena6.ratonPulsado();
    break;  
  case ESCENA7_5:
    escena7_5.ratonPulsado();
    break;
  case ESCENA9:
    escena9.ratonPulsado();
    break;
  case ESCENA10:
    escena10.ratonPulsado();
    break;
  case ESCENA11:
    escena11.ratonPulsado();
    break;
  }
}

void mouseMoved() {
  switch (estadoGeneral) {
  case ESCENA2_5:
    escena2_5.ratonDetectado();
    break;
  }
}

void keyPressed() {
  switch (estadoGeneral) {
  case ESCENA2:
    escena2.teclaPulsada();
    break;
  case ESCENA7:
    escena7.teclaPulsada();
    break;
  case ESCENA8:
    escena8.teclaPulsada();
    break;
  case ESCENA12:
    escena12.teclaPulsada();
    break;
  }
}

void keyReleased() {
  switch (estadoGeneral) {
  case ESCENA8:
    escena8.teclaLevantada();
    break;
  case ESCENA12:
    escena12.teclaLevantada();
    break;
  }
}

void mouseReleased() {
  switch (estadoGeneral) {
  case ESCENA6:
    escena6.ratonLevantado();
  }
}

void mouseDragged() {
  switch (estadoGeneral) {
  case ESCENA6:
    escena6.ratonArrastrado();
  }
}

PImage loadResizedImage(String nombreFichero, int ancho) {
  PImage miImagen = loadImage(nombreFichero);
  float ratio = miImagen.height /float(miImagen.width);
  miImagen.resize(ancho, int(ancho*ratio));
  return miImagen;
}
